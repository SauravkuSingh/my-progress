<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Check Number App</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script
      src="https://kit.fontawesome.com/6ee51f7efa.js"
      crossorigin="anonymous"
    ></script>
    <style>
      body {
        min-height: 100vh;
        background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;
      }
      .glass-container {
        background: rgba(255, 255, 255, 0.25);
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.18);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-radius: 32px;
        border: 1px solid rgba(255, 255, 255, 0.18);
        padding: 48px 32px 32px 32px;
        max-width: 400px;
        width: 100%;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 32px;
      }
      .search-group {
        width: 100%;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        background: rgba(255,255,255,0.5);
        border-radius: 2rem;
        box-shadow: 0 2px 12px 0 rgba(160, 130, 210, 0.08);
        padding: 0.5rem 1rem;
        transition: box-shadow 0.3s;
        position: relative;
      }
      .search-group:focus-within {
        box-shadow: 0 4px 24px 0 rgba(76, 81, 255, 0.15);
      }
      .search-input {
        border: none;
        outline: none;
        background: transparent;
        font-size: 1.2rem;
        flex: 1;
        padding: 0.75rem 0.5rem;
        color: #4f046e;
        min-width: 0;
      }
      .search-btn {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
        color: #fff;
        border-radius: 50%;
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        box-shadow: 0 2px 8px 0 rgba(118, 75, 162, 0.15);
        cursor: pointer;
        transition: background 0.2s, transform 0.2s;
        outline: none;
      }
      .search-btn:focus {
        box-shadow: 0 0 0 3px #a18cd1;
      }
      .search-btn:hover {
        background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        transform: scale(1.08);
      }
      .clear-btn {
        background: transparent;
        border: none;
        color: #764ba2;
        font-size: 1.2rem;
        margin-left: 0.2rem;
        cursor: pointer;
        border-radius: 50%;
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.2s;
      }
      .clear-btn:hover {
        background: #f3e8ff;
      }
      .result-card {
        background: rgba(255,255,255,0.7);
        border-radius: 2rem;
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.12);
        padding: 2rem 1.5rem;
        margin-top: 1rem;
        width: 100%;
        max-width: 350px;
        transition: box-shadow 0.3s, transform 0.3s;
        border: 1px solid rgba(160, 130, 210, 0.08);
        animation: fadeIn 0.7s;
      }
      .result-card:hover {
        box-shadow: 0 12px 40px 0 rgba(118, 75, 162, 0.18);
        transform: translateY(-4px) scale(1.02);
      }
      .result-title {
        font-size: 1.3rem;
        font-weight: 700;
        color: #764ba2;
        margin-bottom: 0.5rem;
      }
      .result-label {
        font-weight: 600;
        color: #667eea;
        margin-bottom: 0.2rem;
      }
      .result-value {
        color: #4f046e;
        margin-bottom: 0.7rem;
        font-size: 1.05rem;
      }
      .loading-spinner {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-top: 1.5rem;
      }
      .spinner {
        border: 4px solid #e0e0e0;
        border-top: 4px solid #764ba2;
        border-radius: 50%;
        width: 36px;
        height: 36px;
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      .empty-message {
        color: #764ba2;
        font-size: 1.1rem;
        margin-top: 1.5rem;
        text-align: center;
        background: rgba(255,255,255,0.6);
        border-radius: 1rem;
        padding: 1rem 0.5rem;
        animation: fadeIn 0.7s;
      }
      @media (max-width: 600px) {
        .glass-container {
          padding: 24px 2vw 16px 2vw;
          max-width: 98vw;
        }
        .search-group {
          padding: 0.3rem 0.5rem;
        }
        .result-card {
          padding: 1.2rem 0.7rem;
          max-width: 98vw;
        }
        .result-title {
          font-size: 1.1rem;
        }
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
      }
    </style>
  </head>
  <body>
    <div class="glass-container">
      <h2 class="mb-4 fw-bold text-center" style="color:#764ba2; letter-spacing:1px;">Check Number</h2>
      <form class="search-group" role="search" aria-label="Phone number search" onsubmit="event.preventDefault(); search();">
        <input
          type="text"
          class="search-input"
          id="topicBox"
          placeholder="Search for any number"
          aria-label="Phone number"
          aria-describedby="addon-wrapping"
          onkeydown="if(event.key==='Enter'){search()}"
          autocomplete="off"
        />
        <button class="search-btn" id="search" type="submit" aria-label="Search">
          <i class="fa-brands fa-searchengin"></i>
        </button>
        <button class="clear-btn" type="button" id="clearBtn" aria-label="Clear input" style="display:none;">
          <i class="fas fa-times"></i>
        </button>
      </form>
      <div id="NumberContainer" style="width:100%;"></div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <script >
      const input = document.getElementById('topicBox');
      const clearBtn = document.getElementById('clearBtn');
      input.addEventListener('input', function() {
        clearBtn.style.display = this.value ? 'flex' : 'none';
      });
      clearBtn.addEventListener('click', function() {
        input.value = '';
        clearBtn.style.display = 'none';
        document.getElementById('NumberContainer').innerHTML = '';
        input.focus();
      });
      async function search() {
        var phn_no = document.getElementById("topicBox").value.trim();
        const container = document.getElementById("NumberContainer");
        container.innerHTML = "";
        if (!phn_no) {
          container.innerHTML = `<div class='empty-message'>Please enter a phone number to search.</div>`;
          return;
        }
        // Show loading spinner
        container.innerHTML = `<div class='loading-spinner'><div class='spinner' role='status' aria-label='Loading'></div></div>`;
        const apiUrl = `https://api.veriphone.io/v2/verify?phone=%2B91-${phn_no}&key=585DFE4F21C54B70BFC9E0D1FEFBF4CA`;
        await fetch(apiUrl)
          .then((response) => {
            if (!response.ok) {
              throw new Error("Network response was not ok");
            }
            return response.json();
          })
          .then((data) => {
            container.innerHTML = '';
            if (!data.phone) {
              container.innerHTML = `<div class='empty-message'>No result found for this number.</div>`;
              return;
            }
            var div = document.createElement("div");
            div.className = "result-card";
            div.setAttribute('tabindex', '0');
            div.setAttribute('role', 'region');
            div.setAttribute('aria-label', 'Phone number result');
            div.innerHTML = `
              <div class="result-title">${data.phone}</div>
              <div class="result-label">Phone Region:</div>
              <div class="result-value">${data.phone_region}</div>
              <div class="result-label">Service Provider:</div>
              <div class="result-value">${data.carrier}</div>
              <div class="result-label">Phone Type:</div>
              <div class="result-value">${data.phone_type}</div>
              <div class="result-label">Validity:</div>
              <div class="result-value">${data.phone_valid ? 'Valid' : 'Invalid'}</div>
            `;
            container.appendChild(div);
            div.focus();
          })
          .catch((error) => {
            container.innerHTML = `<div class='empty-message' style='color:#e53e3e;'>Could not fetch data. Please try again.</div>`;
          });
      }
    </script>
  </body>
</html>